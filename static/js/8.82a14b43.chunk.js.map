{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","History","List"],"mappings":"+VAOA,IAAMA,E,MAAIC,EAAOC,IAAR,KAwEMC,EA9DGC,aAAU,WAAK,IACzBC,EAAcC,cAAdD,aAgBJ,OAXHE,qBAAU,WAGN,OAFAC,QAAQC,IAAI,4BAEL,WACJD,QAAQC,IAAI,gBACZJ,EAAaK,WAGlB,IAIC,6BACI,kBAAC,IAAD,CACAC,aAAa,EACbC,UAAW,EACXC,SApBQ,WACZR,EAAaS,QAoBTC,SAAUV,EAAaW,WAAWX,EAAaU,QAC/CE,WAAW,GAEP,kBAAC,IAAD,CAAMC,WAAYb,EAAac,KAC/BC,WACG,SAAAC,GAAI,OACJ,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IAEjB,6BACC,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAG1C,6BACE,4BAAKN,EAAKK,WAAWE,WAGvB,6BACH,uBAAGC,OAAO,SAAUC,KAAOT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,SAMjGtB,EAAaW,WAAaX,EAAaU,SAErC,6BACI,kBAAC,IAAD,CAAMgB,IAAI,8BCjDfC,UAXf,WACA,OACI,oCACC,wDACA,kBAACC,EAAD","file":"static/js/8.82a14b43.chunk.js","sourcesContent":["import  React , {useEffect} from 'react';\r\nimport {observer} from  'mobx-react';\r\nimport {useStores} from '../stores';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport {List,Spin} from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Img=styled.img`\r\n    width:100px; \r\n    height:130px;\r\n    object-fit:contain;\r\n    border:1px solid #eee;\r\n\r\n`\r\n\r\n\r\n \r\nconst Component = observer (()=>{\r\n const {HistoryStore}=useStores();\r\n const loadMore=()=>{\r\n    HistoryStore.find();\r\n }  ; \r\n\r\n useEffect(()=>{\r\n     console.log('进入组件');\r\n\r\n     return ()=>{\r\n        console.log('卸载');\r\n        HistoryStore.reset();\r\n     }\r\n\r\n },[]);\r\n\r\n\r\n    return (\r\n    <div>\r\n        <InfiniteScroll\r\n        initialLoad={true}\r\n        pageStart={0}\r\n        loadMore={loadMore}\r\n        hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore }\r\n        useWindow={true}\r\n        >\r\n            <List dataSource={HistoryStore.list} \r\n            renderItem={\r\n               item=> \r\n               <List.Item key={item.id}>\r\n                \r\n                   <div>\r\n                    <Img src={item.attributes.url.attributes.url}/>\r\n                   </div>\r\n\r\n                   <div>\r\n                     <h5>{item.attributes.filename}</h5>\r\n                   </div>\r\n\r\n                   <div>\r\n                <a target=\"_blank\"  href ={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url }</a>\r\n                   </div>\r\n\r\n               </List.Item>\r\n            }\r\n            >\r\n             {HistoryStore.isLoading && HistoryStore.hasMore&&\r\n             (\r\n                <div>\r\n                    <Spin tip=\"加载中\"/>\r\n                </div>\r\n\r\n             )\r\n             }\r\n            </List>\r\n        </InfiniteScroll>\r\n    </div>\r\n    );\r\n\r\n\r\n});\r\n\r\nexport default Component;\r\n","import React from 'react';\r\nimport List from '../components/List'\r\n;\r\n\r\n\r\n\r\nfunction History(){\r\nreturn(\r\n    <>\r\n     <h1>历史上传</h1>\r\n     <List></List>\r\n    </>\r\n\r\n);\r\n\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}