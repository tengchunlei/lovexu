(this.webpackJsonpzhangxu=this.webpackJsonpzhangxu||[]).push([[9],{272:function(e,t,n){"use strict";n.r(t);var r=n(19),a=n(0),l=n.n(a),u=n(79),c=n(30),i=n(84),o=n(268),g=n(102),s=n(181),d=n(274),m=n(31);function h(){var e=Object(c.a)(["\nmax-width:300px;\n\n"]);return h=function(){return e},e}function p(){var e=Object(c.a)(["\nmargin:18px;\ntext-align:center;\n"]);return p=function(){return e},e}function f(){var e=Object(c.a)(["\nmargin-top:15px;\nborder:1px dashed #ccc;\npadding:18px;\n"]);return f=function(){return e},e}var b=o.a.Dragger,E=m.a.div(f()),v=m.a.h1(p()),j=m.a.img(h()),w=Object(i.a)((function(){var e=Object(u.a)(),t=e.ImageStore,n=e.UserStore,c=Object(a.useRef)(),i=Object(a.useRef)(),o=Object(r.d)((function(){return{width:null,setWidth:function(e){o.width=e},get widthStr(){return o.width?"/w/".concat(o.width):""},height:null,setHeight:function(e){o.height=e},get heightStr(){return o.height?"/h/".concat(o.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),m={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(g.b.warning("\u8bf7\u60a8\u5148\u767b\u5f55\u518d\u8fdb\u884c\u4e0a\u4f20\u64cd\u4f5c\u54e6"),!1):(window.file=e,/(svg)$|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(g.b.error("\u4ec5\u9650\u4e0a\u4f201M\u4ee5\u5185\u5927\u5c0f\u7684\u56fe\u7247"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(g.b.error("\u53ea\u80fd\u4e0a\u4f20png/jpg/jpeg/gif\u7c7b\u578b\u7684\u56fe\u7247"),!1))}};return l.a.createElement("div",null,l.a.createElement(s.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUpoading},l.a.createElement(b,m,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(d.a,null)),l.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20\u54e6"),l.a.createElement("p",{className:"ant-upload-hint"},"\u4ec5\u9650\u4e0a\u4f20.png/.jpg/.gif\u7c7b\u578b\u7684\u56fe\u7247\u4e14\u6700\u5927\u4e0d\u8d85\u8fc71M\u54e6"))),t.serverFile?l.a.createElement(E,null,l.a.createElement(v,null,"\u4e0a\u4f20\u7ed3\u679c"),l.a.createElement("dl",null,l.a.createElement("dt",null,"\u5728\u7ebf\u9884\u89c8"),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),l.a.createElement("dt",null,"\u6587\u4ef6\u540d"),l.a.createElement("dd",null,t.filename),l.a.createElement("dt",null,"\u9884\u89c8\u56fe\u7247"),l.a.createElement("dd",null,l.a.createElement(j,{src:t.serverFile.attributes.url.attributes.url})),l.a.createElement("dt",null,"\u66f4\u591a\u5c3a\u5bf8"),l.a.createElement("dd",null,l.a.createElement("input",{ref:c,onChange:function(){o.setWidth(c.current.value)},placeholder:"\u8bf7\u5728\u6b64\u5904\u8f93\u5165\u6700\u5927\u5bbd\u5ea6\u54e6"}),l.a.createElement("input",{ref:i,onChange:function(){o.setHeight(i.current.value)},placeholder:"\u8bf7\u5728\u6b64\u5904\u8f93\u5165\u6700\u5927\u9ad8\u5ea6\u54e6"})),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",href:o.fullStr},o.fullStr)))):null)}));function O(){var e=Object(c.a)(["\nbackground:rgb(64, 169, 255);\npadding:10px;\nmargin:30px 0;\ncolor :#fff;\nborder-radius;\n"]);return O=function(){return e},e}var x=m.a.div(O()),S=Object(i.a)((function(e){var t=e.children,n=Object(u.a)().UserStore;return l.a.createElement(l.a.Fragment,null,n.currentUser?null:l.a.createElement(x,null,t)," ")})),F=Object(r.c)((function(){Object(u.a)().UserStore;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null,"\u8bf7\u60a8\u5148\u767b\u5f55\u7136\u540e\u518d\u8fdb\u884c\u4e0a\u4f20\u64cd\u4f5c\u54e6"),l.a.createElement(w,null))}));t.default=F}}]);
//# sourceMappingURL=9.1aa198e9.chunk.js.map